# Тестовые данные для `DateUtil` (легаси-код с 5 багами)

> **ВАЖНО**: Код содержит **5 преднамеренных багов**.  
> Тесты демонстрируют **ожидаемое поведение** и **реальное (ошибочное)** поведение.

---

## Формат даты

Все методы ожидают строку вида:  
`DD/MM/YYYY` — например, `31/12/2023`  
(день/месяц/год, слеши, ровно 10 символов)

---

## 1. `conv(string d, int t)` — Конвертер формата

| Вход | `t` | Ожидаемый результат | Реальный результат | Комментарий |
|------|-----|----------------------|---------------------|-----------|
| `"31/12/2023"` | `1` | `"12/31/2023"` | `"12/31/2023"` | Работает |
| `"12/31/2023"` | `2` | `"31/12/2023"` | `"31/12/2023"` | Работает |
| `"1/1/2023"` | `1` | `"ERR"` | `"ERR"` | Нет ведущих нулей — ошибка формата |
| `"31/12/2023"` | `3` | `"ERR"` | `"ERR"` | Неверный `t` |

---

## 2. `getDay(string d)` — День недели

| Вход | Ожидаемый результат | Реальный результат | Комментарий |
|------|----------------------|---------------------|-----------|
| `"31/12/2023"` | `"Sunday"` | `"sekmadienis"` *(или "Sunday")* | **БАГ 1**: зависит от культуры системы (в Литве — литовский) |
| `"01/01/2024"` | `"Monday"` | `"pirmadienis"` | То же |
| `"invalid"` | `"ERR"` | `"ERR"` | Корректно |

---

## 3. `calcDiff(string d1, string d2)` — Разница в днях

| `d1` | `d2` | Ожидаемый результат | Реальный результат | Комментарий |
|------|------|----------------------|---------------------|-----------|
| `"01/01/2023"` | `"10/01/2023"` | `9` | `9` | Работает |
| `"10/01/2023"` | `"01/01/2023"` | `9` | `-9` | **БАГ 2**: нет `Math.Abs` → отрицательное значение |
| `"31/12/2023"` | `"01/01/2024"` | `1` | `1` | Работает |

---

## 4. `addDays(string d, int n)` — Добавление дней

| Вход | `n` | Ожидаемый результат | Реальный результат | Комментарий |
|------|-----|----------------------|---------------------|-----------|
| `"28/02/2024"` | `1` | `"29/02/2024"` | `"29/02/2024"` | Работает (високосный год) |
| `"01/01/2023"` | `5` | `"06/01/2023"` | `"06/01/2023"` | Работает |
| `"01/01/0999"` | `1` | `"02/01/0999"` | `"02/01/0999"` | **БАГ 3**: год `0999` → `0999` (OK), но `PadLeft(4,'0')` сломает 999 → `0999` |
| `"01/01/10000"` | `1` | `"ERR"` (год >2100) | `"ERR"` | Граница в `isVal` |

---

## 5. `isLeap(string y)` — Високосный год

| Вход | Ожидаемый результат | Реальный результат | Комментарий |
|------|----------------------|---------------------|-----------|
| `"2024"` | `true` | `true` | Работает |
| `"1900"` | `false` | `true` | **ОШИБКА ЛОГИКИ**: 1900 — НЕ високосный! |
| `"2000"` | `true` | `true` | Работает |

> **Дополнительный баг в логике**:  
> Правило: `(yyyy % 4 == 0 && yyyy % 100 != 0) || (yyyy % 400 == 0)`  
> → `1900 % 100 == 0`, но `1900 % 400 != 0` → должно быть `false`, но в коде **не проверяется исключение для 100**.

---

## 6. `DebugLog(string msg)` — **БАГ 4**

```csharp
util.DebugLog("test");